!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).sidePanel=e()}(this,(function(){function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e}function u(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(t,e,n){return t.set(n),e}let c=t=>requestAnimationFrame(t);const a=new Set;function d(t){a.forEach((e=>{e.c(t)||(a.delete(e),e.f())})),0!==a.size&&c(d)}function f(t,e){t.appendChild(e)}function h(t){return document.createElement(t)}function p(){return document.createTextNode(" ")}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n)}function y(t,e,n){t.classList[n?"add":"remove"](e)}let b;function v(t){b=t}const x=[],w=[],S=[],_=[],E=Promise.resolve();let k=0;function O(t){S.push(t)}const A=new Set;let C=0;function H(){const t=b;do{for(;C<x.length;){const t=x[C];C++,v(t),Y(t.$$)}for(v(null),x.length=0,C=0;w.length;)w.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];A.has(e)||(A.add(e),e())}S.length=0}while(x.length);for(;_.length;)_.pop()();k=0,A.clear(),v(t)}function Y(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}function P(t,e){-1===t.$$.dirty[0]&&(x.push(t),k||(k=1,E.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(e,n,s,u,l,c,a,d=[-1]){const f=b;v(e);const h=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:{},on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:{},dirty:d,skip_bound:0,root:n.target||f.$$.root};a&&a(h.root);let p=0;h.ctx=s?s(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&l(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&P(e,t)),n})):[],h.update(),p=1,r(h.before_update),h.fragment=u?u(h.ctx):0,n.target&&(h.fragment&&h.fragment.c(),function(t,e,n,s){const{fragment:u,on_mount:l,on_destroy:c,after_update:a}=t.$$;u&&u.m(e,n),s||O((()=>{const e=l.map(o).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(O)}(e,n.target,n.anchor,n.customElement),H()),v(f)}const L=[];function z(t){const e=t-1;return e*e*e+1}function M(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(Array.isArray(t)){const n=e.map(((e,n)=>M(t[n],e)));return t=>n.map((e=>e(t)))}if("number"===n){const n=e-t;return e=>t+e*n}}function N(o,r={}){const i=function(e,n=t){let o;const r=new Set;function i(t){if(i=t,((n=e)!=n?i==i:n!==i||n&&"object"==typeof n||"function"==typeof n)&&(e=t,o)){const t=!L.length;for(const t of r)t[1](),L.push(t,e);if(t){for(let t=0;t<L.length;t+=2)L[t][0](L[t+1]);L.length=0}}var n,i}return{set:i,update:function(t){i(t(e))},subscribe:function(s,u=t){const l=[s,u];return r.add(l),1===r.size&&(o=n(i)||t),s(e),()=>{r.delete(l),0===r.size&&(o(),o=null)}}}}(o);let s,u=o;function l(t,l){if(null==o)return i.set(o=t),Promise.resolve();u=t;let f=s,h=0,{delay:p=0,duration:$=400,easing:g=e,interpolate:m=M}=n(n({},r),l);if(0===$)return f&&(f.abort(),f=null),i.set(o=u),Promise.resolve();const y=window.performance.now()+p;let b;return s=function(t){let e;return 0===a.size&&c(d),{promise:new Promise((n=>{a.add(e={c:t,f:n})})),abort(){a.delete(e)}}}((e=>{if(e<y)return 1;h||(b=m(o,t),"function"==typeof $&&($=$(o,t)),h=1),f&&(f.abort(),f=null);const n=e-y;return n>$?(i.set(o=t),0):(i.set(o=b(g(n/$))),1)})),s.promise}return{set:l,update:(t,e)=>l(t(u,o),e),subscribe:i.subscribe}}let X,j,{documentElement:q,body:D}=document;function B(e){let n,o,s,u,l,c,a,d;return{c(){n=h("div"),o=h("div"),s=p(),u=h("div"),g(o,"class","spmt-overlay"),m(o,"opacity",e[8]),g(u,"class","spmt"),m(u,"width",e[0]+"px"),m(u,"transform","translateX("+(e[2]?-1*e[4]:e[4])+"%)"),g(u,"tabindex",l=e[7]?"0":0),y(u,"left",e[2]),g(n,"class","spmt-wrap"),g(n,"data-no-panel","true"),y(n,"novis",!e[7]),y(n,"fixed",e[1])},m(r,l){var h;!function(t,e,n){t.insertBefore(e,n||null)}(r,n,l),f(n,o),f(n,s),f(n,u),e[20](u),e[22](n),a||(d=[$(o,"click",e[3]),(h=c=e[11].call(null,u,e[7]),h&&i(h.destroy)?h.destroy:t),$(u,"keydown",e[21])],a=1)},p(t,[e]){256&e&&m(o,"opacity",t[8]),1&e&&m(u,"width",t[0]+"px"),20&e&&m(u,"transform","translateX("+(t[2]?-1*t[4]:t[4])+"%)"),128&e&&l!==(l=t[7]?"0":0)&&g(u,"tabindex",l),c&&i(c.update)&&128&e&&c.update.call(null,t[7]),4&e&&y(u,"left",t[2]),128&e&&y(n,"novis",!t[7]),2&e&&y(n,"fixed",t[1])},i:t,o:t,d(t){var o;t&&(o=n).parentNode.removeChild(o),e[20](null),e[22](null),a=0,r(d)}}}function F(t,e,n){let o,r,i,s,c,a,d,f,h,{target:p=null}=e,{content:$=null}=e,{width:g=400}=e,{duration:m=450}=e,{fixed:y=1}=e,{left:b=0}=e,{dragOpen:v=1}=e,{onShow:x=null}=e,{onHide:S=null}=e,{preventScroll:_=1}=e;$.parentElement?.removeChild($);const E=N(100,{duration:m,easing:z});u(t,E,(t=>n(4,i=t)));const k=t=>{l(E,i=0,i),h=t?t.target:null},O=()=>{l(E,i=100,i)};function A(t){if(!r||!(9===t.keyCode))return;const e=d.querySelectorAll("*"),n=Array.from(e).filter((t=>t.tabIndex>=0));if(n.length){t.preventDefault();let e=n.indexOf(document.activeElement);e+=n.length+(t.shiftKey?-1:1),e%=n.length,n[e].focus()}}return t.$$set=t=>{"target"in t&&n(12,p=t.target),"content"in t&&n(13,$=t.content),"width"in t&&n(0,g=t.width),"duration"in t&&n(14,m=t.duration),"fixed"in t&&n(1,y=t.fixed),"left"in t&&n(2,b=t.left),"dragOpen"in t&&n(15,v=t.dragOpen),"onShow"in t&&n(16,x=t.onShow),"onHide"in t&&n(17,S=t.onHide),"preventScroll"in t&&n(18,_=t.preventScroll)},t.$$.update=()=>{16&t.$$.dirty&&n(8,o=(100-i)/100),16&t.$$.dirty&&n(7,r=i<100)},[g,y,b,O,i,d,f,r,o,E,A,function(t){return $&&t.appendChild($),p.addEventListener("touchstart",(t=>{let e=function(t){for(;t.parentNode;){if(t.hasAttribute("data-no-panel"))return 1;t=t.parentNode}}(t.target);if(s=t.changedTouches[0].pageX,c=t.changedTouches[0].pageY,!r&&(e||!v))return void(a=null);let n=p.getBoundingClientRect(),o=r;(b&&s-n.left<30||!b&&n.right-s<30)&&(o=1),a=o?{start:i,time:Date.now()}:null}),{passive:1}),p.addEventListener("touchmove",(t=>{if(!r&&!a)return;let e=t.changedTouches[0],n=e.pageX-s,o=e.pageY-c;if(null!==a.go&&(a.go=Math.abs(n)>Math.abs(o)?1:null),a.go){const t=a.start+n/f.clientWidth*(b?-100:100);t<=100&&t>=0&&E.set(t,{duration:1})}}),{passive:1}),p.addEventListener("touchend",(t=>{if(r){let{start:t,time:e}=a,n=Date.now()-e,o=t-i;n<400&&Math.abs(o)>5?o>0?k():O():i>70?O():k()}})),{update:t=>{t?(y&&_&&q.scrollHeight>q.clientHeight&&(X=X||getComputedStyle(q).overflowY,j=j||getComputedStyle(D).overflowY,q.style.overflowY="hidden",D.style.overflowY="scroll"),setTimeout((()=>f.focus()),99),x&&x(d)):(h&&h.focus({preventScroll:1}),y&&_&&(q.style.overflowY=X,D.style.overflowY=X),S&&S())}}},p,$,m,v,x,S,_,k,function(t){w[t?"unshift":"push"]((()=>{f=t,n(6,f)}))},t=>27===t.keyCode?O():A(t),function(t){w[t?"unshift":"push"]((()=>{d=t,n(5,d)}))}]}class I extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=1,this.$$set(t),this.$$.skip_bound=0)}}{constructor(t){super(),T(this,t,F,B,s,{target:12,content:13,width:0,duration:14,fixed:1,left:2,dragOpen:15,onShow:16,onHide:17,preventScroll:18,show:19,hide:3})}get target(){return this.$$.ctx[12]}set target(t){this.$$set({target:t}),H()}get content(){return this.$$.ctx[13]}set content(t){this.$$set({content:t}),H()}get width(){return this.$$.ctx[0]}set width(t){this.$$set({width:t}),H()}get duration(){return this.$$.ctx[14]}set duration(t){this.$$set({duration:t}),H()}get fixed(){return this.$$.ctx[1]}set fixed(t){this.$$set({fixed:t}),H()}get left(){return this.$$.ctx[2]}set left(t){this.$$set({left:t}),H()}get dragOpen(){return this.$$.ctx[15]}set dragOpen(t){this.$$set({dragOpen:t}),H()}get onShow(){return this.$$.ctx[16]}set onShow(t){this.$$set({onShow:t}),H()}get onHide(){return this.$$.ctx[17]}set onHide(t){this.$$set({onHide:t}),H()}get preventScroll(){return this.$$.ctx[18]}set preventScroll(t){this.$$set({preventScroll:t}),H()}get show(){return this.$$.ctx[19]}get hide(){return this.$$.ctx[3]}}return t=>new I({...t,props:t})}));
